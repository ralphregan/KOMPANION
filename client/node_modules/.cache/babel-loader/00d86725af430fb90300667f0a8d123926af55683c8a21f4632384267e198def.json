{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nexport default function SendRegister({\n  Data,\n  dispatch,\n  hasSent\n}) {\n  _s();\n  const initialMount = useRef(true);\n  useEffect(function () {\n    if (initialMount.current) {\n      initialMount;\n    }\n    if (!Data || hasSent) return console.log(\"this is the errer\");\n    const controller = new AbortController();\n    async function send() {\n      const api = Data.login ? '/Login' : '/Register';\n      console.log(Data);\n      dispatch({\n        type: \"SEND_START\"\n      });\n      try {\n        const response = await axios.post(api, Data, {\n          signal: controller.signal\n        });\n        const result = response.data;\n        console.log(result);\n        dispatch({\n          type: \"SEND_SUCCESS\",\n          payload: result\n        });\n      } catch (error) {\n        dispatch({\n          type: \"SEND_FAILURE\",\n          payload: error.message\n        });\n      } finally {\n        dispatch({\n          type: \"RESET\"\n        });\n      }\n    }\n    send();\n    return () => controller.abort();\n  }, [Data, hasSent, dispatch]);\n}\n_s(SendRegister, \"rd/+cE6Qmy3bMqirs6DZFtFNy6g=\");\n_c = SendRegister;\nvar _c;\n$RefreshReg$(_c, \"SendRegister\");","map":{"version":3,"names":["useEffect","useRef","axios","SendRegister","Data","dispatch","hasSent","_s","initialMount","current","console","log","controller","AbortController","send","api","login","type","response","post","signal","result","data","payload","error","message","abort","_c","$RefreshReg$"],"sources":["C:/Users/rapheal/Desktop/myProject/client/src/Day/SendLoginAndRegister.js"],"sourcesContent":["import { useEffect, useRef} from \"react\";\r\nimport axios from \"axios\"\r\n\r\nexport default function SendRegister({Data, dispatch, hasSent}) {\r\n \r\n    const initialMount = useRef(true)\r\n\r\nuseEffect(function() {\r\nif(initialMount.current){\r\n    initialMount\r\n} \r\n\r\nif(!Data || hasSent) return console.log(\"this is the errer\")\r\n\r\nconst controller = new AbortController()\r\nasync function send() {\r\n    const api = Data.login ? '/Login' : '/Register'\r\n    console.log(Data)\r\n    dispatch({type: \"SEND_START\"})\r\n        try {\r\n    const response = await axios.post(api, Data,{signal: controller.signal})\r\n    const result = response.data \r\n    console.log(result)\r\n    dispatch({ type: \"SEND_SUCCESS\", payload: result });\r\n    \r\n} catch (error) {\r\n \r\n    dispatch({ type: \"SEND_FAILURE\", payload: error.message })\r\n}\r\nfinally{\r\n\r\n    dispatch({type: \"RESET\"})\r\n}\r\n}\r\nsend()\r\nreturn ()=> controller.abort()\r\n},[Data,hasSent, dispatch])\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAO,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAEzB,eAAe,SAASC,YAAYA,CAAC;EAACC,IAAI;EAAEC,QAAQ;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAE5D,MAAMC,YAAY,GAAGP,MAAM,CAAC,IAAI,CAAC;EAErCD,SAAS,CAAC,YAAW;IACrB,IAAGQ,YAAY,CAACC,OAAO,EAAC;MACpBD,YAAY;IAChB;IAEA,IAAG,CAACJ,IAAI,IAAIE,OAAO,EAAE,OAAOI,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAE5D,MAAMC,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IACxC,eAAeC,IAAIA,CAAA,EAAG;MAClB,MAAMC,GAAG,GAAGX,IAAI,CAACY,KAAK,GAAG,QAAQ,GAAG,WAAW;MAC/CN,OAAO,CAACC,GAAG,CAACP,IAAI,CAAC;MACjBC,QAAQ,CAAC;QAACY,IAAI,EAAE;MAAY,CAAC,CAAC;MAC1B,IAAI;QACR,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAACJ,GAAG,EAAEX,IAAI,EAAC;UAACgB,MAAM,EAAER,UAAU,CAACQ;QAAM,CAAC,CAAC;QACxE,MAAMC,MAAM,GAAGH,QAAQ,CAACI,IAAI;QAC5BZ,OAAO,CAACC,GAAG,CAACU,MAAM,CAAC;QACnBhB,QAAQ,CAAC;UAAEY,IAAI,EAAE,cAAc;UAAEM,OAAO,EAAEF;QAAO,CAAC,CAAC;MAEvD,CAAC,CAAC,OAAOG,KAAK,EAAE;QAEZnB,QAAQ,CAAC;UAAEY,IAAI,EAAE,cAAc;UAAEM,OAAO,EAAEC,KAAK,CAACC;QAAQ,CAAC,CAAC;MAC9D,CAAC,SACM;QAEHpB,QAAQ,CAAC;UAACY,IAAI,EAAE;QAAO,CAAC,CAAC;MAC7B;IACA;IACAH,IAAI,CAAC,CAAC;IACN,OAAO,MAAKF,UAAU,CAACc,KAAK,CAAC,CAAC;EAC9B,CAAC,EAAC,CAACtB,IAAI,EAACE,OAAO,EAAED,QAAQ,CAAC,CAAC;AAC3B;AAACE,EAAA,CAlCuBJ,YAAY;AAAAwB,EAAA,GAAZxB,YAAY;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}